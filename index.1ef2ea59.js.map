{"mappings":"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","sources":["src/js/lightcase.js"],"sourcesContent":["/*\n * Lightcase - jQuery Plugin\n * The smart and flexible Lightbox Plugin.\n *\n * @author\t\tCornel Boppart <cornel@bopp-art.com>\n * @copyright\tAuthor\n *\n * @version\t\t2.4.0 (09/04/2017)\n */\n\n;(function ($) {\n\n\t'use strict';\n\n\tvar _self = {\n\t\tcache: {},\n\n\t\tsupport: {},\n\n\t\tobjects: {},\n\n\t\t/**\n\t\t * Initializes the plugin\n\t\t *\n\t\t * @param\t{object}\toptions\n\t\t * @return\t{object}\n\t\t */\n\t\tinit: function (options) {\n\t\t\treturn this.each(function () {\n\t\t\t\t$(this).unbind('click.lightcase').bind('click.lightcase', function (event) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t$(this).lightcase('start', options);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Starts the plugin\n\t\t *\n\t\t * @param\t{object}\toptions\n\t\t * @return\t{void}\n\t\t */\n\t\tstart: function (options) {\n\t\t\t_self.origin = lightcase.origin = this;\n\n\t\t\t_self.settings = lightcase.settings = $.extend(true, {\n\t\t\t\tidPrefix: 'lightcase-',\n\t\t\t\tclassPrefix: 'lightcase-',\n\t\t\t\tattrPrefix: 'lc-',\n\t\t\t\ttransition: 'elastic',\n\t\t\t\ttransitionOpen: null,\n\t\t\t\ttransitionClose: null,\n\t\t\t\ttransitionIn: null,\n\t\t\t\ttransitionOut: null,\n\t\t\t\tcssTransitions: true,\n\t\t\t\tspeedIn: 250,\n\t\t\t\tspeedOut: 250,\n\t\t\t\twidth: null,\n\t\t\t\theight: null,\n\t\t\t\tmaxWidth: 800,\n\t\t\t\tmaxHeight: 500,\n\t\t\t\tforceWidth: false,\n\t\t\t\tforceHeight: false,\n\t\t\t\tliveResize: true,\n\t\t\t\tfullScreenModeForMobile: true,\n\t\t\t\tmobileMatchExpression: /(iphone|ipod|ipad|android|blackberry|symbian)/,\n\t\t\t\tdisableShrink: false,\n\t\t\t\tfixedRatio: true,\n\t\t\t\tshrinkFactor: .75,\n\t\t\t\toverlayOpacity: .9,\n\t\t\t\tslideshow: false,\n\t\t\t\tslideshowAutoStart: true,\n\t\t\t\ttimeout: 5000,\n\t\t\t\tswipe: true,\n\t\t\t\tuseKeys: true,\n\t\t\t\tuseCategories: true,\n\t\t\t\tuseAsCollection: false,\n\t\t\t\tnavigateEndless: true,\n\t\t\t\tcloseOnOverlayClick: true,\n\t\t\t\ttitle: null,\n\t\t\t\tcaption: null,\n\t\t\t\tshowTitle: true,\n\t\t\t\tshowCaption: true,\n\t\t\t\tshowSequenceInfo: true,\n\t\t\t\tinline: {\n\t\t\t\t\twidth: 'auto',\n\t\t\t\t\theight: 'auto'\n\t\t\t\t},\n\t\t\t\tajax: {\n\t\t\t\t\twidth: 'auto',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\ttype: 'get',\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: {}\n\t\t\t\t},\n\t\t\t\tiframe: {\n\t\t\t\t\twidth: 800,\n\t\t\t\t\theight: 500,\n\t\t\t\t\tframeborder: 0\n\t\t\t\t},\n\t\t\t\tflash: {\n\t\t\t\t\twidth: 400,\n\t\t\t\t\theight: 205,\n\t\t\t\t\twmode: 'transparent'\n\t\t\t\t},\n\t\t\t\tvideo: {\n\t\t\t\t\twidth: 400,\n\t\t\t\t\theight: 225,\n\t\t\t\t\tposter: '',\n\t\t\t\t\tpreload: 'auto',\n\t\t\t\t\tcontrols: true,\n\t\t\t\t\tautobuffer: true,\n\t\t\t\t\tautoplay: true,\n\t\t\t\t\tloop: false\n\t\t\t\t},\n\t\t\t\tattr: 'data-rel',\n\t\t\t\thref: null,\n\t\t\t\ttype: null,\n\t\t\t\ttypeMapping: {\n\t\t\t\t\t'image': 'jpg,jpeg,gif,png,bmp',\n\t\t\t\t\t'flash': 'swf',\n\t\t\t\t\t'video': 'mp4,mov,ogv,ogg,webm',\n\t\t\t\t\t'iframe': 'html,php',\n\t\t\t\t\t'ajax': 'json,txt',\n\t\t\t\t\t'inline': '#'\n\t\t\t\t},\n\t\t\t\terrorMessage: function () {\n\t\t\t\t\treturn '<p class=\"' + _self.settings.classPrefix + 'error\">' + _self.settings.labels['errorMessage'] + '</p>';\n\t\t\t\t},\n\t\t\t\tlabels: {\n\t\t\t\t\t'errorMessage': 'Source could not be found...',\n\t\t\t\t\t'sequenceInfo.of': ' of ',\n\t\t\t\t\t'close': 'Close',\n\t\t\t\t\t'navigator.prev': 'Prev',\n\t\t\t\t\t'navigator.next': 'Next',\n \t\t\t\t\t'navigator.play': 'Play',\n\t\t\t\t\t'navigator.pause': 'Pause'\n\t\t\t\t},\n\t\t\t\tmarkup: function () {\n\t\t\t\t\t_self.objects.body.append(\n\t\t\t\t\t\t_self.objects.overlay = $('<div id=\"' + _self.settings.idPrefix + 'overlay\"></div>'),\n\t\t\t\t\t\t_self.objects.loading = $('<div id=\"' + _self.settings.idPrefix + 'loading\" class=\"' + _self.settings.classPrefix + 'icon-spin\"></div>'),\n\t\t\t\t\t\t_self.objects.case = $('<div id=\"' + _self.settings.idPrefix + 'case\" aria-hidden=\"true\" role=\"dialog\"></div>')\n\t\t\t\t\t);\n\t\t\t\t\t_self.objects.case.after(\n\t\t\t\t\t\t_self.objects.close = $('<a href=\"#\" class=\"' + _self.settings.classPrefix + 'icon-close\"><span>' + _self.settings.labels['close'] + '</span></a>'),\n\t\t\t\t\t\t_self.objects.nav = $('<div id=\"' + _self.settings.idPrefix + 'nav\"></div>')\n\t\t\t\t\t);\n\t\t\t\t\t_self.objects.nav.append(\n\t\t\t\t\t\t_self.objects.prev = $('<a href=\"#\" class=\"' + _self.settings.classPrefix + 'icon-prev\"><span>' + _self.settings.labels['navigator.prev'] + '</span></a>').hide(),\n\t\t\t\t\t\t_self.objects.next = $('<a href=\"#\" class=\"' + _self.settings.classPrefix + 'icon-next\"><span>' + _self.settings.labels['navigator.next'] + '</span></a>').hide(),\n\t\t\t\t\t\t_self.objects.play = $('<a href=\"#\" class=\"' + _self.settings.classPrefix + 'icon-play\"><span>' + _self.settings.labels['navigator.play'] + '</span></a>').hide(),\n\t\t\t\t\t\t_self.objects.pause = $('<a href=\"#\" class=\"' + _self.settings.classPrefix + 'icon-pause\"><span>' + _self.settings.labels['navigator.pause'] + '</span></a>').hide()\n\t\t\t\t\t);\n\t\t\t\t\t_self.objects.case.append(\n\t\t\t\t\t\t_self.objects.content = $('<div id=\"' + _self.settings.idPrefix + 'content\"></div>'),\n\t\t\t\t\t\t_self.objects.info = $('<div id=\"' + _self.settings.idPrefix + 'info\"></div>')\n\t\t\t\t\t);\n\t\t\t\t\t_self.objects.content.append(\n\t\t\t\t\t\t_self.objects.contentInner = $('<div class=\"' + _self.settings.classPrefix + 'contentInner\"></div>')\n\t\t\t\t\t);\n\t\t\t\t\t_self.objects.info.append(\n\t\t\t\t\t\t_self.objects.sequenceInfo = $('<div id=\"' + _self.settings.idPrefix + 'sequenceInfo\"></div>'),\n\t\t\t\t\t\t_self.objects.title = $('<h4 id=\"' + _self.settings.idPrefix + 'title\"></h4>'),\n\t\t\t\t\t\t_self.objects.caption = $('<p id=\"' + _self.settings.idPrefix + 'caption\"></p>')\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tonInit: {},\n\t\t\t\tonStart: {},\n\t\t\t\tonFinish: {},\n\t\t\t\tonResize: {},\n\t\t\t\tonClose: {},\n\t\t\t\tonCleanup: {}\n\t\t\t}, \n\t\t\toptions,\n\t\t\t// Load options from data-lc-options attribute\n\t\t\t_self.origin.data ? _self.origin.data('lc-options') : {});\n\n\t\t\t_self.objects.document = $('html');\n\t\t\t_self.objects.body = $('body');\n\n\t\t\t// Call onInit hook functions\n\t\t\t_self._callHooks(_self.settings.onInit);\n\n\t\t\t_self.objectData = _self._setObjectData(this);\n\n\t\t\t_self._addElements();\n\t\t\t_self._open();\n\n\t\t\t_self.dimensions = _self.getViewportDimensions();\n\t\t},\n\n\t\t/**\n\t\t * Getter method for objects\n\t\t *\n\t\t * @param\t{string}\tname\n\t\t * @return\t{object}\n\t\t */\n\t\tget: function (name) {\n\t\t\treturn _self.objects[name];\n\t\t},\n\n\t\t/**\n\t\t * Getter method for objectData\n\t\t *\n\t\t * @return\t{object}\n\t\t */\n\t\tgetObjectData: function () {\n\t\t\treturn _self.objectData;\n\t\t},\n\n\t\t/**\n\t\t * Sets the object data\n\t\t *\n\t\t * @param\t{object}\tobject\n\t\t * @return\t{object}\tobjectData\n\t\t */\n\t\t_setObjectData: function (object) {\n\t\t \tvar $object = $(object),\n\t\t\t\tobjectData = {\n\t\t\t\tthis: $(object),\n\t\t\t\ttitle: _self.settings.title || $object.attr(_self._prefixAttributeName('title')) || $object.attr('title'),\n\t\t\t\tcaption: _self.settings.caption || $object.attr(_self._prefixAttributeName('caption')) || $object.children('img').attr('alt'),\n\t\t\t\turl: _self._determineUrl(),\n\t\t\t\trequestType: _self.settings.ajax.type,\n\t\t\t\trequestData: _self.settings.ajax.data,\n\t\t\t\trequestDataType: _self.settings.ajax.dataType,\n\t\t\t\trel: $object.attr(_self._determineAttributeSelector()),\n\t\t\t\ttype: _self.settings.type || _self._verifyDataType(_self._determineUrl()),\n\t\t\t\tisPartOfSequence: _self.settings.useAsCollection || _self._isPartOfSequence($object.attr(_self.settings.attr), ':'),\n\t\t\t\tisPartOfSequenceWithSlideshow: _self._isPartOfSequence($object.attr(_self.settings.attr), ':slideshow'),\n\t\t\t\tcurrentIndex: $(_self._determineAttributeSelector()).index($object),\n\t\t\t\tsequenceLength: $(_self._determineAttributeSelector()).length\n\t\t\t};\n\n\t\t\t// Add sequence info to objectData\n\t\t\tobjectData.sequenceInfo = (objectData.currentIndex + 1) + _self.settings.labels['sequenceInfo.of'] + objectData.sequenceLength;\n\n\t\t\t// Add next/prev index\n\t\t\tobjectData.prevIndex = objectData.currentIndex - 1;\n\t\t\tobjectData.nextIndex = objectData.currentIndex + 1;\n\n\t\t\treturn objectData;\n\t\t},\n\n\t\t/**\n\t\t * Prefixes a data attribute name with defined name from 'settings.attrPrefix'\n\t\t * to ensure more uniqueness for all lightcase related/used attributes.\n\t\t *\n\t\t * @param\t{string}\tname\n\t\t * @return\t{string}\n\t\t */\n\t\t_prefixAttributeName: function (name) {\n\t\t\treturn 'data-' + _self.settings.attrPrefix + name;\n\t\t},\n\n\t\t/**\n\t\t * Determines the link target considering 'settings.href' and data attributes\n\t\t * but also with a fallback to the default 'href' value.\n\t\t *\n\t\t * @return\t{string}\n\t\t */\n\t\t_determineLinkTarget: function () {\n\t\t\treturn _self.settings.href || $(_self.origin).attr(_self._prefixAttributeName('href')) || $(_self.origin).attr('href');\n\t\t},\n\n\t\t/**\n\t\t * Determines the attribute selector to use, depending on\n\t\t * whether categorized collections are beeing used or not.\n\t\t *\n\t\t * @return\t{string}\tselector\n\t\t */\n\t\t_determineAttributeSelector: function () {\n\t\t\tvar\t$origin = $(_self.origin),\n\t\t\t\tselector = '';\n\n\t\t\tif (typeof _self.cache.selector !== 'undefined') {\n\t\t\t\tselector = _self.cache.selector;\n\t\t\t} else if (_self.settings.useCategories === true && $origin.attr(_self._prefixAttributeName('categories'))) {\n\t\t\t\tvar\tcategories = $origin.attr(_self._prefixAttributeName('categories')).split(' ');\n\n\t\t\t\t$.each(categories, function (index, category) {\n\t\t\t\t\tif (index > 0) {\n\t\t\t\t\t\tselector += ',';\n\t\t\t\t\t}\n\t\t\t\t\tselector += '[' + _self._prefixAttributeName('categories') + '~=\"' + category + '\"]';\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tselector = '[' + _self.settings.attr + '=\"' + $origin.attr(_self.settings.attr) + '\"]';\n\t\t\t}\n\n\t\t\t_self.cache.selector = selector;\n\n\t\t\treturn selector;\n\t\t},\n\n\t\t/**\n\t\t * Determines the correct resource according to the\n\t\t * current viewport and density.\n\t\t *\n\t\t * @return\t{string}\turl\n\t\t */\n\t\t_determineUrl: function () {\n\t\t\tvar\tdataUrl = _self._verifyDataUrl(_self._determineLinkTarget()),\n\t\t\t\twidth = 0,\n\t\t\t\tdensity = 0,\n\t\t\t\tsupportLevel = '',\n\t\t\t\turl;\n\n\t\t\t$.each(dataUrl, function (index, src) {\n\t\t\t\tswitch (_self._verifyDataType(src.url)) {\n\t\t\t\t\tcase 'video':\n\t\t\t\t\t\tvar\tvideo = document.createElement('video'),\n\t\t\t\t\t\t\tvideoType = _self._verifyDataType(src.url) + '/' + _self._getFileUrlSuffix(src.url);\n\n\t\t\t\t\t\t// Check if browser can play this type of video format\n\t\t\t\t\t\tif (supportLevel !== 'probably' && supportLevel !== video.canPlayType(videoType) && video.canPlayType(videoType) !== '') {\n\t\t\t\t\t\t\tsupportLevel = video.canPlayType(videoType);\n\t\t\t\t\t\t\turl = src.url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t// Check density\n\t\t\t\t\t\t\t_self._devicePixelRatio() >= src.density &&\n\t\t\t\t\t\t\tsrc.density >= density &&\n\t\t\t\t\t\t\t// Check viewport width\n\t\t\t\t\t\t\t_self._matchMedia()('screen and (min-width:' + src.width + 'px)').matches &&\n\t\t\t\t\t\t\tsrc.width >= width\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\twidth = src.width;\n\t\t\t\t\t\t\tdensity = src.density;\n\t\t\t\t\t\t\turl = src.url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn url;\n\t\t},\n\n\t\t/**\n\t\t * Normalizes an url and returns information about the resource path,\n\t\t * the viewport width as well as density if defined.\n\t\t *\n\t\t * @param\t{string}\turl\tPath to resource in format of an url or srcset\n\t\t * @return\t{object}\n\t\t */\n\t\t_normalizeUrl: function (url) {\n\t\t\tvar srcExp = /^\\d+$/;\n\n\t\t\treturn url.split(',').map(function (str) {\n\t\t\t\tvar src = {\n\t\t\t\t\twidth: 0,\n\t\t\t\t\tdensity: 0\n\t\t\t\t};\n\n\t\t\t\tstr.trim().split(/\\s+/).forEach(function (url, i) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\treturn src.url = url;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar value = url.substring(0, url.length - 1),\n\t\t\t\t\t\tlastChar = url[url.length - 1],\n\t\t\t\t\t\tintVal = parseInt(value, 10),\n\t\t\t\t\t\tfloatVal = parseFloat(value);\n\t\t\t\t\tif (lastChar === 'w' && srcExp.test(value)) {\n\t\t\t\t\t\tsrc.width = intVal;\n\t\t\t\t\t} else if (lastChar === 'h' && srcExp.test(value)) {\n\t\t\t\t\t\tsrc.height = intVal;\n\t\t\t\t\t} else if (lastChar === 'x' && !isNaN(floatVal)) {\n\t\t\t\t\t\tsrc.density = floatVal;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn src;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Verifies if the link is part of a sequence\n\t\t *\n\t\t * @param\t{string}\trel\n\t\t * @param\t{string}\texpression\n\t\t * @return\t{boolean}\n\t\t */\n\t\t_isPartOfSequence: function (rel, expression) {\n\t\t\tvar getSimilarLinks = $('[' + _self.settings.attr + '=\"' + rel + '\"]'),\n\t\t\t\tregexp = new RegExp(expression);\n\n\t\t\treturn (regexp.test(rel) && getSimilarLinks.length > 1);\n\t\t},\n\n\t\t/**\n\t\t * Verifies if the slideshow should be enabled\n\t\t *\n\t\t * @return\t{boolean}\n\t\t */\n\t\tisSlideshowEnabled: function () {\n\t\t\treturn (_self.objectData.isPartOfSequence && (_self.settings.slideshow === true || _self.objectData.isPartOfSequenceWithSlideshow === true));\n\t\t},\n\n\t\t/**\n\t\t * Loads the new content to show\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_loadContent: function () {\n\t\t\tif (_self.cache.originalObject) {\n\t\t\t\t_self._restoreObject();\n\t\t\t}\n\n\t\t\t_self._createObject();\n\t\t},\n\n\t\t/**\n\t\t * Creates a new object\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_createObject: function () {\n\t\t\tvar $object;\n\n\t\t\t// Create object\n\t\t\tswitch (_self.objectData.type) {\n\t\t\t\tcase 'image':\n\t\t\t\t\t$object = $(new Image());\n\t\t\t\t\t$object.attr({\n\t\t\t\t\t\t// The time expression is required to prevent the binding of an image load\n\t\t\t\t\t\t'src': _self.objectData.url,\n\t\t\t\t\t\t'alt': _self.objectData.title\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'inline':\n\t\t\t\t\t$object = $('<div class=\"' + _self.settings.classPrefix + 'inlineWrap\"></div>');\n\t\t\t\t\t$object.html(_self._cloneObject($(_self.objectData.url)));\n\n\t\t\t\t\t// Add custom attributes from _self.settings\n\t\t\t\t\t$.each(_self.settings.inline, function (name, value) {\n\t\t\t\t\t\t$object.attr(_self._prefixAttributeName(name), value);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ajax':\n\t\t\t\t\t$object = $('<div class=\"' + _self.settings.classPrefix + 'inlineWrap\"></div>');\n\n\t\t\t\t\t// Add custom attributes from _self.settings\n\t\t\t\t\t$.each(_self.settings.ajax, function (name, value) {\n\t\t\t\t\t\tif (name !== 'data') {\n\t\t\t\t\t\t\t$object.attr(_self._prefixAttributeName(name), value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'flash':\n\t\t\t\t\t$object = $('<embed src=\"' + _self.objectData.url + '\" type=\"application/x-shockwave-flash\"></embed>');\n\n\t\t\t\t\t// Add custom attributes from _self.settings\n\t\t\t\t\t$.each(_self.settings.flash, function (name, value) {\n\t\t\t\t\t\t$object.attr(name, value);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video':\n\t\t\t\t\t$object = $('<video></video>');\n\t\t\t\t\t$object.attr('src', _self.objectData.url);\n\n\t\t\t\t\t// Add custom attributes from _self.settings\n\t\t\t\t\t$.each(_self.settings.video, function (name, value) {\n\t\t\t\t\t\t$object.attr(name, value);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t$object = $('<iframe></iframe>');\n\t\t\t\t\t$object.attr({\n\t\t\t\t\t\t'src': _self.objectData.url\n\t\t\t\t\t});\n\n\t\t\t\t\t// Add custom attributes from _self.settings\n\t\t\t\t\t$.each(_self.settings.iframe, function (name, value) {\n\t\t\t\t\t\t$object.attr(name, value);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t_self._addObject($object);\n\t\t\t_self._loadObject($object);\n\t\t},\n\n\t\t/**\n\t\t * Adds the new object to the markup\n\t\t *\n\t\t * @param\t{object}\t$object\n\t\t * @return\t{void}\n\t\t */\n\t\t_addObject: function ($object) {\n\t\t\t// Add object to content holder\n\t\t\t_self.objects.contentInner.html($object);\n\n\t\t\t// Start loading\n\t\t\t_self._loading('start');\n\n\t\t\t// Call onStart hook functions\n\t\t\t_self._callHooks(_self.settings.onStart);\n\n\t\t\t// Add sequenceInfo to the content holder or hide if its empty\n\t\t\tif (_self.settings.showSequenceInfo === true && _self.objectData.isPartOfSequence) {\n\t\t\t\t_self.objects.sequenceInfo.html(_self.objectData.sequenceInfo);\n\t\t\t\t_self.objects.sequenceInfo.show();\n\t\t\t} else {\n\t\t\t\t_self.objects.sequenceInfo.empty();\n\t\t\t\t_self.objects.sequenceInfo.hide();\n\t\t\t}\n\t\t\t// Add title to the content holder or hide if its empty\n\t\t\tif (_self.settings.showTitle === true && _self.objectData.title !== undefined && _self.objectData.title !== '') {\n\t\t\t\t_self.objects.title.html(_self.objectData.title);\n\t\t\t\t_self.objects.title.show();\n\t\t\t} else {\n\t\t\t\t_self.objects.title.empty();\n\t\t\t\t_self.objects.title.hide();\n\t\t\t}\n\t\t\t// Add caption to the content holder or hide if its empty\n\t\t\tif (_self.settings.showCaption === true && _self.objectData.caption !== undefined && _self.objectData.caption !== '') {\n\t\t\t\t_self.objects.caption.html(_self.objectData.caption);\n\t\t\t\t_self.objects.caption.show();\n\t\t\t} else {\n\t\t\t\t_self.objects.caption.empty();\n\t\t\t\t_self.objects.caption.hide();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Loads the new object\n\t\t *\n\t\t * @param\t{object}\t$object\n\t\t * @return\t{void}\n\t\t */\n\t\t_loadObject: function ($object) {\n\t\t\t// Load the object\n\t\t\tswitch (_self.objectData.type) {\n\t\t\t\tcase 'inline':\n\t\t\t\t\tif ($(_self.objectData.url)) {\n\t\t\t\t\t\t_self._showContent($object);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_self.error();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ajax':\n\t\t\t\t\t$.ajax(\n\t\t\t\t\t\t$.extend({}, _self.settings.ajax, {\n\t\t\t\t\t\t\turl: _self.objectData.url,\n\t\t\t\t\t\t\ttype: _self.objectData.requestType,\n\t\t\t\t\t\t\tdataType: _self.objectData.requestDataType,\n\t\t\t\t\t\t\tdata: _self.objectData.requestData,\n\t\t\t\t\t\t\tsuccess: function (data, textStatus, jqXHR) {\n\t\t\t\t\t\t\t\t// Unserialize if data is transferred as json\n\t\t\t\t\t\t\t\tif (_self.objectData.requestDataType === 'json') {\n\t\t\t\t\t\t\t\t\t_self.objectData.data = data;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$object.html(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t_self._showContent($object);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\t_self.error();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'flash':\n\t\t\t\t\t_self._showContent($object);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video':\n\t\t\t\t\tif (typeof($object.get(0).canPlayType) === 'function' || _self.objects.case.find('video').length === 0) {\n\t\t\t\t\t\t_self._showContent($object);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_self.error();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif (_self.objectData.url) {\n\t\t\t\t\t\t$object.on('load', function () {\n\t\t\t\t\t\t\t_self._showContent($object);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$object.on('error', function () {\n\t\t\t\t\t\t\t_self.error();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_self.error();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Throws an error message if something went wrong\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\terror: function () {\n\t\t\t_self.objectData.type = 'error';\n\t\t\tvar $object = $('<div class=\"' + _self.settings.classPrefix + 'inlineWrap\"></div>');\n\n\t\t\t$object.html(_self.settings.errorMessage);\n\t\t\t_self.objects.contentInner.html($object);\n\n\t\t\t_self._showContent(_self.objects.contentInner);\n\t\t},\n\n\t\t/**\n\t\t * Calculates the dimensions to fit content\n\t\t *\n\t\t * @param\t{object}\t$object\n\t\t * @return\t{void}\n\t\t */\n\t\t_calculateDimensions: function ($object) {\n\t\t\t_self._cleanupDimensions();\n\n\t\t\t// Set default dimensions\n\t\t\tvar dimensions = {\n\t\t\t\tratio: 1,\n\t\t\t\tobjectWidth: $object.attr('width') ? $object.attr('width') : $object.attr(_self._prefixAttributeName('width')),\n\t\t\t\tobjectHeight: $object.attr('height') ? $object.attr('height') : $object.attr(_self._prefixAttributeName('height'))\n\t\t\t};\n\n\t\t\tif (!_self.settings.disableShrink) {\n\t\t\t\t// Add calculated maximum width/height to dimensions\n\t\t\t\tdimensions.maxWidth = parseInt(_self.dimensions.windowWidth * _self.settings.shrinkFactor);\n\t\t\t\tdimensions.maxHeight = parseInt(_self.dimensions.windowHeight * _self.settings.shrinkFactor);\n\n\t\t\t\t// If the auto calculated maxWidth/maxHeight greather than the user-defined one, use that.\n\t\t\t\tif (dimensions.maxWidth > _self.settings.maxWidth) {\n\t\t\t\t\tdimensions.maxWidth = _self.settings.maxWidth;\n\t\t\t\t}\n\t\t\t\tif (dimensions.maxHeight > _self.settings.maxHeight) {\n\t\t\t\t\tdimensions.maxHeight = _self.settings.maxHeight;\n\t\t\t\t}\n\n\t\t\t\t// Calculate the difference between screen width/height and image width/height\n\t\t\t\tdimensions.differenceWidthAsPercent = parseInt(100 / dimensions.maxWidth * dimensions.objectWidth);\n\t\t\t\tdimensions.differenceHeightAsPercent = parseInt(100 / dimensions.maxHeight * dimensions.objectHeight);\n\n\t\t\t\tswitch (_self.objectData.type) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'flash':\n\t\t\t\t\tcase 'video':\n\t\t\t\t\tcase 'iframe':\n\t\t\t\t\tcase 'ajax':\n\t\t\t\t\tcase 'inline':\n\t\t\t\t\t\tif (_self.objectData.type === 'image' || _self.settings.fixedRatio === true) {\n\t\t\t\t\t\t\tif (dimensions.differenceWidthAsPercent > 100 && dimensions.differenceWidthAsPercent > dimensions.differenceHeightAsPercent) {\n\t\t\t\t\t\t\t\tdimensions.objectWidth = dimensions.maxWidth;\n\t\t\t\t\t\t\t\tdimensions.objectHeight = parseInt(dimensions.objectHeight / dimensions.differenceWidthAsPercent * 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (dimensions.differenceHeightAsPercent > 100 && dimensions.differenceHeightAsPercent > dimensions.differenceWidthAsPercent) {\n\t\t\t\t\t\t\t\tdimensions.objectWidth = parseInt(dimensions.objectWidth / dimensions.differenceHeightAsPercent * 100);\n\t\t\t\t\t\t\t\tdimensions.objectHeight = dimensions.maxHeight;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (dimensions.differenceHeightAsPercent > 100 && dimensions.differenceWidthAsPercent < dimensions.differenceHeightAsPercent) {\n\t\t\t\t\t\t\t\tdimensions.objectWidth = parseInt(dimensions.maxWidth / dimensions.differenceHeightAsPercent * dimensions.differenceWidthAsPercent);\n\t\t\t\t\t\t\t\tdimensions.objectHeight = dimensions.maxHeight;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\tif (!isNaN(dimensions.objectWidth) && dimensions.objectWidth > dimensions.maxWidth) {\n\t\t\t\t\t\t\tdimensions.objectWidth = dimensions.maxWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif ((isNaN(dimensions.objectWidth) || dimensions.objectWidth > dimensions.maxWidth) && !_self.settings.forceWidth) {\n\t\t\t\t\t\t\tdimensions.objectWidth = dimensions.maxWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (((isNaN(dimensions.objectHeight) && dimensions.objectHeight !== 'auto') || dimensions.objectHeight > dimensions.maxHeight) && !_self.settings.forceHeight) {\n\t\t\t\t\t\t\tdimensions.objectHeight = dimensions.maxHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_self.settings.forceWidth) {\n\t\t\t\ttry {\n\t\t\t\t\tdimensions.objectWidth = _self.settings[_self.objectData.type].width;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tdimensions.objectWidth = _self.settings.width || dimensions.objectWidth;\n\t\t\t\t}\n\n\t\t\t\tdimensions.maxWidth = null;\n\t\t\t}\n\t\t\tif ($object.attr(_self._prefixAttributeName('max-width'))) {\n\t\t\t\tdimensions.maxWidth = $object.attr(_self._prefixAttributeName('max-width'));\n\t\t\t}\n\n\t\t\tif (_self.settings.forceHeight) {\n\t\t\t\ttry {\n\t\t\t\t\tdimensions.objectHeight = _self.settings[_self.objectData.type].height;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tdimensions.objectHeight = _self.settings.height || dimensions.objectHeight;\n\t\t\t\t}\n\n\t\t\t\tdimensions.maxHeight = null;\n\t\t\t}\n\t\t\tif ($object.attr(_self._prefixAttributeName('max-height'))) {\n\t\t\t\tdimensions.maxHeight = $object.attr(_self._prefixAttributeName('max-height'));\n\t\t\t}\n\t\t\t_self._adjustDimensions($object, dimensions);\n\t\t},\n\n\t\t/**\n\t\t * Adjusts the dimensions\n\t\t *\n\t\t * @param\t{object}\t$object\n\t\t * @param\t{object}\tdimensions\n\t\t * @return\t{void}\n\t\t */\n\t\t_adjustDimensions: function ($object, dimensions) {\n\t\t\t// Adjust width and height\n\t\t\t$object.css({\n\t\t\t\t'width': dimensions.objectWidth,\n\t\t\t\t'height': dimensions.objectHeight,\n\t\t\t\t'max-width': dimensions.maxWidth,\n\t\t\t\t'max-height': dimensions.maxHeight\n\t\t\t});\n\n\t\t\t_self.objects.contentInner.css({\n\t\t\t\t'width': $object.outerWidth(),\n\t\t\t\t'height': $object.outerHeight(),\n\t\t\t\t'max-width': '100%'\n\t\t\t});\n\n\t\t\t_self.objects.case.css({\n\t\t\t\t'width': _self.objects.contentInner.outerWidth()\n\t\t\t});\n\n\t\t\t// Adjust margin\n\t\t\t_self.objects.case.css({\n\t\t\t\t'margin-top': parseInt(-(_self.objects.case.outerHeight() / 2)),\n\t\t\t\t'margin-left': parseInt(-(_self.objects.case.outerWidth() / 2))\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Handles the _loading\n\t\t *\n\t\t * @param\t{string}\tprocess\n\t\t * @return\t{void}\n\t\t */\n\t\t_loading: function (process) {\n\t\t\tif (process === 'start') {\n\t\t\t\t_self.objects.case.addClass(_self.settings.classPrefix + 'loading');\n\t\t\t\t_self.objects.loading.show();\n\t\t\t} else if (process === 'end') {\n\t\t\t\t_self.objects.case.removeClass(_self.settings.classPrefix + 'loading');\n\t\t\t\t_self.objects.loading.hide();\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Gets the client screen dimensions\n\t\t *\n\t\t * @return\t{object}\tdimensions\n\t\t */\n\t\tgetViewportDimensions: function () {\n\t\t\treturn {\n\t\t\t\twindowWidth: $(window).innerWidth(),\n\t\t\t\twindowHeight: $(window).innerHeight()\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Verifies the url\n\t\t *\n\t\t * @param\t{string}\tdataUrl\n\t\t * @return\t{object}\tdataUrl\tClean url for processing content\n\t\t */\n\t\t_verifyDataUrl: function (dataUrl) {\n\t\t\tif (!dataUrl || dataUrl === undefined || dataUrl === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (dataUrl.indexOf('#') > -1) {\n\t\t\t\tdataUrl = dataUrl.split('#');\n\t\t\t\tdataUrl = '#' + dataUrl[dataUrl.length - 1];\n\t\t\t}\n\n\t\t\treturn _self._normalizeUrl(dataUrl.toString());\n\t\t},\n\n\t\t\t// \n\t\t/**\n\t\t * Tries to get the (file) suffix of an url\n\t\t *\n\t\t * @param\t{string}\turl\n\t\t * @return\t{string}\n\t\t */\n\t\t_getFileUrlSuffix: function (url) {\n\t\t\treturn url.toLowerCase().split('?')[0].split('.')[1];\n\t\t},\n\n\t\t/**\n\t\t * Verifies the data type of the content to load\n\t\t *\n\t\t * @param\t{string}\t\t\turl\n\t\t * @return\t{string|boolean}\tArray key if expression matched, else false\n\t\t */\n\t\t_verifyDataType: function (url) {\n\t\t\tvar typeMapping = _self.settings.typeMapping;\n\n\t\t\t// Early abort if dataUrl couldn't be verified\n\t\t\tif (!url) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Verify the dataType of url according to typeMapping which\n\t\t\t// has been defined in settings.\n\t\t\tfor (var key in typeMapping) {\n\t\t\t\tif (typeMapping.hasOwnProperty(key)) {\n\t\t\t\t\tvar suffixArr = typeMapping[key].split(',');\n\n\t\t\t\t\tfor (var i = 0; i < suffixArr.length; i++) {\n\t\t\t\t\t\tvar suffix = suffixArr[i].toLowerCase(),\n\t\t\t\t\t\t\tregexp = new RegExp('\\.(' + suffix + ')$', 'i'),\n\t\t\t\t\t\t\tstr = url.toLowerCase().split('?')[0].substr(-5);\n\n\t\t\t\t\t\tif (regexp.test(str) === true || (key === 'inline' && (url.indexOf(suffix) > -1))) {\n\t\t\t\t\t\t\treturn key;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If no expression matched, return 'iframe'.\n\t\t\treturn 'iframe';\n\t\t},\n\n\t\t/**\n\t\t * Extends html markup with the essential tags\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_addElements: function () {\n\t\t\tif (typeof _self.objects.case !== 'undefined' && $('#' + _self.objects.case.attr('id')).length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_self.settings.markup();\n\t\t},\n\n\t\t/**\n\t\t * Shows the loaded content\n\t\t *\n\t\t * @param\t{object}\t$object\n\t\t * @return\t{void}\n\t\t */\n\t\t_showContent: function ($object) {\n\t\t\t// Add data attribute with the object type\n\t\t\t_self.objects.document.attr(_self._prefixAttributeName('type'), _self.objectData.type);\n\n\t\t\t_self.cache.object = $object;\n\t\t\t_self._calculateDimensions($object);\n\n\t\t\t// Call onFinish hook functions\n\t\t\t_self._callHooks(_self.settings.onFinish);\n\n\t\t\tswitch (_self.transition.in()) {\n\t\t\t\tcase 'scrollTop':\n\t\t\t\tcase 'scrollRight':\n\t\t\t\tcase 'scrollBottom':\n\t\t\t\tcase 'scrollLeft':\n\t\t\t\tcase 'scrollHorizontal':\n\t\t\t\tcase 'scrollVertical':\n\t\t\t\t\t_self.transition.scroll(_self.objects.case, 'in', _self.settings.speedIn);\n\t\t\t\t\t_self.transition.fade(_self.objects.contentInner, 'in', _self.settings.speedIn);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'elastic':\n\t\t\t\t\tif (_self.objects.case.css('opacity') < 1) {\n\t\t\t\t\t\t_self.transition.zoom(_self.objects.case, 'in', _self.settings.speedIn);\n\t\t\t\t\t\t_self.transition.fade(_self.objects.contentInner, 'in', _self.settings.speedIn);\n\t\t\t\t\t}\n\t\t\t\tcase 'fade':\n\t\t\t\tcase 'fadeInline':\n\t\t\t\t\t_self.transition.fade(_self.objects.case, 'in', _self.settings.speedIn);\n\t\t\t\t\t_self.transition.fade(_self.objects.contentInner, 'in', _self.settings.speedIn);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t_self.transition.fade(_self.objects.case, 'in', 0);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// End loading.\n\t\t\t_self._loading('end');\n\t\t\t_self.isBusy = false;\n\t\t\t\n\t\t\t// Set index of the first item opened\n\t\t\tif (!_self.cache.firstOpened) {\n\t\t\t\t_self.cache.firstOpened = _self.objectData.this;\n\t\t\t}\n\n\t\t\t// Fade in the info with delay\n\t\t\t_self.objects.info.hide();\n\t\t\tsetTimeout(function () {\n\t\t\t  _self.transition.fade(_self.objects.info, 'in', _self.settings.speedIn);\n\t\t\t}, _self.settings.speedIn);\n\t\t},\n\n\t\t/**\n\t\t * Processes the content to show\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_processContent: function () {\n\t\t\t_self.isBusy = true;\n\n\t\t\t// Fade out the info at first\n\t\t\t_self.transition.fade(_self.objects.info, 'out', 0);\n\n\t\t\tswitch (_self.settings.transitionOut) {\n\t\t\t\tcase 'scrollTop':\n\t\t\t\tcase 'scrollRight':\n\t\t\t\tcase 'scrollBottom':\n\t\t\t\tcase 'scrollLeft':\n\t\t\t\tcase 'scrollVertical':\n\t\t\t\tcase 'scrollHorizontal':\n\t\t\t\t\tif (_self.objects.case.is(':hidden')) {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.contentInner, 'out', 0);\n\t\t\t\t\t\t_self.transition.fade(_self.objects.case, 'out', 0, 0, function () {\n\t\t\t\t\t\t\t_self._loadContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_self.transition.scroll(_self.objects.case, 'out', _self.settings.speedOut, function () {\n\t\t\t\t\t\t\t_self._loadContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'fade':\n\t\t\t\t\tif (_self.objects.case.is(':hidden')) {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.case, 'out', 0, 0, function () {\n\t\t\t\t\t\t\t_self._loadContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.case, 'out', _self.settings.speedOut, 0, function () {\n\t\t\t\t\t\t\t_self._loadContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'fadeInline':\n\t\t\t\tcase 'elastic':\n\t\t\t\t\tif (_self.objects.case.is(':hidden')) {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.case, 'out', 0, 0, function () {\n\t\t\t\t\t\t\t_self._loadContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.contentInner, 'out', _self.settings.speedOut, 0, function () {\n\t\t\t\t\t\t\t_self._loadContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t_self.transition.fade(_self.objects.case, 'out', 0, 0, function () {\n\t\t\t\t\t\t_self._loadContent();\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles events for gallery buttons\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_handleEvents: function () {\n\t\t\t_self._unbindEvents();\n\n\t\t\t_self.objects.nav.children().not(_self.objects.close).hide();\n\n\t\t\t// If slideshow is enabled, show play/pause and start timeout.\n\t\t\tif (_self.isSlideshowEnabled()) {\n\t\t\t\t// Only start the timeout if slideshow autostart is enabled and slideshow is not pausing\n\t\t\t\tif (\n\t\t\t\t\t(_self.settings.slideshowAutoStart === true || _self.isSlideshowStarted) &&\n\t\t\t\t\t!_self.objects.nav.hasClass(_self.settings.classPrefix + 'paused')\n\t\t\t\t) {\n\t\t\t\t\t_self._startTimeout();\n\t\t\t\t} else {\n\t\t\t\t\t_self._stopTimeout();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_self.settings.liveResize) {\n\t\t\t\t_self._watchResizeInteraction();\n\t\t\t}\n\n\t\t\t_self.objects.close.click(function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t_self.close();\n\t\t\t});\n\n\t\t\tif (_self.settings.closeOnOverlayClick === true) {\n\t\t\t\t_self.objects.overlay.css('cursor', 'pointer').click(function (event) {\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t_self.close();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (_self.settings.useKeys === true) {\n\t\t\t\t_self._addKeyEvents();\n\t\t\t}\n\n\t\t\tif (_self.objectData.isPartOfSequence) {\n\t\t\t\t_self.objects.nav.attr(_self._prefixAttributeName('ispartofsequence'), true);\n\t\t\t\t_self.objects.nav.data('items', _self._setNavigation());\n\n\t\t\t\t_self.objects.prev.click(function (event) {\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tif (_self.settings.navigateEndless === true || !_self.item.isFirst()) {\n\t\t\t\t\t\t_self.objects.prev.unbind('click');\n\t\t\t\t\t\t_self.cache.action = 'prev';\n\t\t\t\t\t\t_self.objects.nav.data('items').prev.click();\n\n\t\t\t\t\t\tif (_self.isSlideshowEnabled()) {\n\t\t\t\t\t\t\t_self._stopTimeout();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_self.objects.next.click(function (event) {\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tif (_self.settings.navigateEndless === true || !_self.item.isLast()) {\n\t\t\t\t\t\t_self.objects.next.unbind('click');\n\t\t\t\t\t\t_self.cache.action = 'next';\n\t\t\t\t\t\t_self.objects.nav.data('items').next.click();\n\n\t\t\t\t\t\tif (_self.isSlideshowEnabled()) {\n\t\t\t\t\t\t\t_self._stopTimeout();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (_self.isSlideshowEnabled()) {\n\t\t\t\t\t_self.objects.play.click(function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t_self._startTimeout();\n\t\t\t\t\t});\n\t\t\t\t\t_self.objects.pause.click(function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t_self._stopTimeout();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Enable swiping if activated\n\t\t\t\tif (_self.settings.swipe === true) {\n\t\t\t\t\tif ($.isPlainObject($.event.special.swipeleft)) {\n\t\t\t\t\t\t_self.objects.case.on('swipeleft', function (event) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t_self.objects.next.click();\n\t\t\t\t\t\t\tif (_self.isSlideshowEnabled()) {\n\t\t\t\t\t\t\t\t_self._stopTimeout();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif ($.isPlainObject($.event.special.swiperight)) {\n\t\t\t\t\t\t_self.objects.case.on('swiperight', function (event) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t_self.objects.prev.click();\n\t\t\t\t\t\t\tif (_self.isSlideshowEnabled()) {\n\t\t\t\t\t\t\t\t_self._stopTimeout();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Adds the key events\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_addKeyEvents: function () {\n\t\t\t$(document).bind('keyup.lightcase', function (event) {\n\t\t\t\t// Do nothing if lightcase is in process\n\t\t\t\tif (_self.isBusy) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tswitch (event.keyCode) {\n\t\t\t\t\t// Escape key\n\t\t\t\t\tcase 27:\n\t\t\t\t\t\t_self.objects.close.click();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// Backward key\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tif (_self.objectData.isPartOfSequence) {\n\t\t\t\t\t\t\t_self.objects.prev.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// Forward key\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tif (_self.objectData.isPartOfSequence) {\n\t\t\t\t\t\t\t_self.objects.next.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Starts the slideshow timeout\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_startTimeout: function () {\n\t\t\t_self.isSlideshowStarted = true;\n\n\t\t\t_self.objects.play.hide();\n\t\t\t_self.objects.pause.show();\n\n\t\t\t_self.cache.action = 'next';\n\t\t\t_self.objects.nav.removeClass(_self.settings.classPrefix + 'paused');\n\n\t\t\t_self.timeout = setTimeout(function () {\n\t\t\t\t_self.objects.nav.data('items').next.click();\n\t\t\t}, _self.settings.timeout);\n\t\t},\n\n\t\t/**\n\t\t * Stops the slideshow timeout\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_stopTimeout: function () {\n\t\t\t_self.objects.play.show();\n\t\t\t_self.objects.pause.hide();\n\n\t\t\t_self.objects.nav.addClass(_self.settings.classPrefix + 'paused');\n\n\t\t\tclearTimeout(_self.timeout);\n\t\t},\n\n\t\t/**\n\t\t * Sets the navigator buttons (prev/next)\n\t\t *\n\t\t * @return\t{object}\titems\n\t\t */\n\t\t_setNavigation: function () {\n\t\t\tvar $links = $((_self.cache.selector || _self.settings.attr)),\n\t\t\t\tsequenceLength = _self.objectData.sequenceLength - 1,\n\t\t\t\titems = {\n\t\t\t\t\tprev: $links.eq(_self.objectData.prevIndex),\n\t\t\t\t\tnext: $links.eq(_self.objectData.nextIndex)\n\t\t\t\t};\n\n\t\t\tif (_self.objectData.currentIndex > 0) {\n\t\t\t\t_self.objects.prev.show();\n\t\t\t} else {\n\t\t\t\titems.prevItem = $links.eq(sequenceLength);\n\t\t\t}\n\t\t\tif (_self.objectData.nextIndex <= sequenceLength) {\n\t\t\t\t_self.objects.next.show();\n\t\t\t} else {\n\t\t\t\titems.next = $links.eq(0);\n\t\t\t}\n\n\t\t\tif (_self.settings.navigateEndless === true) {\n\t\t\t\t_self.objects.prev.show();\n\t\t\t\t_self.objects.next.show();\n\t\t\t}\n\n\t\t\treturn items;\n\t\t},\n\n\t\t/**\n\t\t * Item information/status\n\t\t *\n\t\t */\n\t\titem: {\n\t\t\t/**\n\t\t\t * Verifies if the current item is first item.\n\t\t\t *\n\t\t\t * @return\t{boolean}\n\t\t\t */\n\t\t\tisFirst: function () {\n\t\t\t\treturn (_self.objectData.currentIndex === 0);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Verifies if the current item is first item opened.\n\t\t\t *\n\t\t\t * @return\t{boolean}\n\t\t\t */\n\t\t\tisFirstOpened: function () {\n\t\t\t\treturn _self.objectData.this.is(_self.cache.firstOpened);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Verifies if the current item is last item.\n\t\t\t *\n\t\t\t * @return\t{boolean}\n\t\t\t */\n\t\t\tisLast: function () {\n\t\t\t\treturn (_self.objectData.currentIndex === (_self.objectData.sequenceLength - 1));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Clones the object for inline elements\n\t\t *\n\t\t * @param\t{object}\t$object\n\t\t * @return\t{object}\t$clone\n\t\t */\n\t\t_cloneObject: function ($object) {\n\t\t\tvar $clone = $object.clone(),\n\t\t\t\tobjectId = $object.attr('id');\n\n\t\t\t// If element is hidden, cache the object and remove\n\t\t\tif ($object.is(':hidden')) {\n\t\t\t\t_self._cacheObjectData($object);\n\t\t\t\t$object.attr('id', _self.settings.idPrefix + 'temp-' + objectId).empty();\n\t\t\t} else {\n\t\t\t\t// Prevent duplicated id's\n\t\t\t\t$clone.removeAttr('id');\n\t\t\t}\n\n\t\t\treturn $clone.show();\n\t\t},\n\n\t\t/**\n\t\t * Verifies if it is a mobile device\n\t\t *\n\t\t * @return\t{boolean}\n\t\t */\n\t\tisMobileDevice: function () {\n\t\t\tvar deviceAgent = navigator.userAgent.toLowerCase(),\n\t\t\t\tagentId = deviceAgent.match(_self.settings.mobileMatchExpression);\n\n\t\t\treturn agentId ? true : false;\n\t\t},\n\n\t\t/**\n\t\t * Verifies if css transitions are supported\n\t\t *\n\t\t * @return\t{string|boolean}\tThe transition prefix if supported, else false.\n\t\t */\n\t\tisTransitionSupported: function () {\n\t\t\tvar body = _self.objects.body.get(0),\n\t\t\t\tisTransitionSupported = false,\n\t\t\t\ttransitionMapping = {\n\t\t\t\t\t'transition': '',\n\t\t\t\t\t'WebkitTransition': '-webkit-',\n\t\t\t\t\t'MozTransition': '-moz-',\n\t\t\t\t\t'OTransition': '-o-',\n\t\t\t\t\t'MsTransition': '-ms-'\n\t\t\t\t};\n\n\t\t\tfor (var key in transitionMapping) {\n\t\t\t\tif (transitionMapping.hasOwnProperty(key) && key in body.style) {\n\t\t\t\t\t_self.support.transition = transitionMapping[key];\n\t\t\t\t\tisTransitionSupported = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn isTransitionSupported;\n\t\t},\n\n\t\t/**\n\t\t * Transition types\n\t\t *\n\t\t */\n\t\ttransition: {\n\t\t\t/**\n\t\t\t * Returns the correct transition type according to the status of interaction.\n\t\t\t *\n\t\t\t * @return\t{string}\tTransition type\n\t\t\t */\n\t\t\tin: function () {\n\t\t\t\tif (_self.settings.transitionOpen && !_self.cache.firstOpened) {\n\t\t\t\t\treturn _self.settings.transitionOpen;\n\t\t\t\t}\n\t\t\t\treturn _self.settings.transitionIn;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Fades in/out the object\n\t\t\t *\n\t\t\t * @param\t{object}\t$object\n\t\t\t * @param\t{string}\ttype\n\t\t\t * @param\t{number}\tspeed\n\t\t\t * @param\t{number}\topacity\n\t\t\t * @param\t{function}\tcallback\n\t\t\t * @return\t{void}\t\tAnimates an object\n\t\t\t */\n\t\t\tfade: function ($object, type, speed, opacity, callback) {\n\t\t\t\tvar isInTransition = type === 'in',\n\t\t\t\t\tstartTransition = {},\n\t\t\t\t\tstartOpacity = $object.css('opacity'),\n\t\t\t\t\tendTransition = {},\n\t\t\t\t\tendOpacity = opacity ? opacity: isInTransition ? 1 : 0;\n\n\t\t\t\tif (!_self.isOpen && isInTransition) return;\n\n\t\t\t\tstartTransition['opacity'] = startOpacity;\n\t\t\t\tendTransition['opacity'] = endOpacity;\n\n\t\t\t\t$object.css(startTransition).show();\n\n\t\t\t\t// Css transition\n\t\t\t\tif (_self.support.transitions) {\n\t\t\t\t\tendTransition[_self.support.transition + 'transition'] = speed + 'ms ease';\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$object.css(endTransition);\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t$object.css(_self.support.transition + 'transition', '');\n\n\t\t\t\t\t\t\tif (callback && (_self.isOpen || !isInTransition)) {\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, speed);\n\t\t\t\t\t}, 15);\n\t\t\t\t} else {\n\t\t\t\t\t// Fallback to js transition\n\t\t\t\t\t$object.stop();\n\t\t\t\t\t$object.animate(endTransition, speed, callback);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Scrolls in/out the object\n\t\t\t *\n\t\t\t * @param\t{object}\t$object\n\t\t\t * @param\t{string}\ttype\n\t\t\t * @param\t{number}\tspeed\n\t\t\t * @param\t{function}\tcallback\n\t\t\t * @return\t{void}\t\tAnimates an object\n\t\t\t */\n\t\t\tscroll: function ($object, type, speed, callback) {\n\t\t\t\tvar isInTransition = type === 'in',\n\t\t\t\t\ttransition = isInTransition ? _self.settings.transitionIn : _self.settings.transitionOut,\n\t\t\t\t\tdirection = 'left',\n\t\t\t\t\tstartTransition = {},\n\t\t\t\t\tstartOpacity = isInTransition ? 0 : 1,\n\t\t\t\t\tstartOffset = isInTransition ? '-50%' : '50%',\n\t\t\t\t\tendTransition = {},\n\t\t\t\t\tendOpacity = isInTransition ? 1 : 0,\n\t\t\t\t\tendOffset = isInTransition ? '50%' : '-50%';\n\n\t\t\t\tif (!_self.isOpen && isInTransition) return;\n\n\t\t\t\tswitch (transition) {\n\t\t\t\t\tcase 'scrollTop':\n\t\t\t\t\t\tdirection = 'top';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'scrollRight':\n\t\t\t\t\t\tstartOffset = isInTransition ? '150%' : '50%';\n\t\t\t\t\t\tendOffset = isInTransition ? '50%' : '150%';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'scrollBottom':\n\t\t\t\t\t\tdirection = 'top';\n\t\t\t\t\t\tstartOffset = isInTransition ? '150%' : '50%';\n\t\t\t\t\t\tendOffset = isInTransition ? '50%' : '150%';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'scrollHorizontal':\n\t\t\t\t\t\tstartOffset = isInTransition ? '150%' : '50%';\n\t\t\t\t\t\tendOffset = isInTransition ? '50%' : '-50%';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'scrollVertical':\n\t\t\t\t\t\tdirection = 'top';\n\t\t\t\t\t\tstartOffset = isInTransition ? '-50%' : '50%';\n\t\t\t\t\t\tendOffset = isInTransition ? '50%' : '150%';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (_self.cache.action === 'prev') {\n\t\t\t\t\tswitch (transition) {\n\t\t\t\t\t\tcase 'scrollHorizontal':\n\t\t\t\t\t\t\tstartOffset = isInTransition ? '-50%' : '50%';\n\t\t\t\t\t\t\tendOffset = isInTransition ? '50%' : '150%';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'scrollVertical':\n\t\t\t\t\t\t\tstartOffset = isInTransition ? '150%' : '50%';\n\t\t\t\t\t\t\tendOffset = isInTransition ? '50%' : '-50%';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstartTransition['opacity'] = startOpacity;\n\t\t\t\tstartTransition[direction] = startOffset;\n\n\t\t\t\tendTransition['opacity'] = endOpacity;\n\t\t\t\tendTransition[direction] = endOffset;\n\n\t\t\t\t$object.css(startTransition).show();\n\n\t\t\t\t// Css transition\n\t\t\t\tif (_self.support.transitions) {\n\t\t\t\t\tendTransition[_self.support.transition + 'transition'] = speed + 'ms ease';\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$object.css(endTransition);\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t$object.css(_self.support.transition + 'transition', '');\n\n\t\t\t\t\t\t\tif (callback && (_self.isOpen || !isInTransition)) {\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, speed);\n\t\t\t\t\t}, 15);\n\t\t\t\t} else {\n\t\t\t\t\t// Fallback to js transition\n\t\t\t\t\t$object.stop();\n\t\t\t\t\t$object.animate(endTransition, speed, callback);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Zooms in/out the object\n\t\t\t *\n\t\t\t * @param\t{object}\t$object\n\t\t\t * @param\t{string}\ttype\n\t\t\t * @param\t{number}\tspeed\n\t\t\t * @param\t{function}\tcallback\n\t\t\t * @return\t{void}\t\tAnimates an object\n\t\t\t */\n\t\t\tzoom: function ($object, type, speed, callback) {\n\t\t\t\tvar isInTransition = type === 'in',\n\t\t\t\t\tstartTransition = {},\n\t\t\t\t\tstartOpacity = $object.css('opacity'),\n\t\t\t\t\tstartScale = isInTransition ? 'scale(0.75)' : 'scale(1)',\n\t\t\t\t\tendTransition = {},\n\t\t\t\t\tendOpacity = isInTransition ? 1 : 0,\n\t\t\t\t\tendScale = isInTransition ? 'scale(1)' : 'scale(0.75)';\n\n\t\t\t\tif (!_self.isOpen && isInTransition) return;\n\n\t\t\t\tstartTransition['opacity'] = startOpacity;\n\t\t\t\tstartTransition[_self.support.transition + 'transform'] = startScale;\n\n\t\t\t\tendTransition['opacity'] = endOpacity;\n\n\t\t\t\t$object.css(startTransition).show();\n\n\t\t\t\t// Css transition\n\t\t\t\tif (_self.support.transitions) {\n\t\t\t\t\tendTransition[_self.support.transition + 'transform'] = endScale;\n\t\t\t\t\tendTransition[_self.support.transition + 'transition'] = speed + 'ms ease';\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$object.css(endTransition);\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t$object.css(_self.support.transition + 'transform', '');\n\t\t\t\t\t\t\t$object.css(_self.support.transition + 'transition', '');\n\n\t\t\t\t\t\t\tif (callback && (_self.isOpen || !isInTransition)) {\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, speed);\n\t\t\t\t\t}, 15);\n\t\t\t\t} else {\n\t\t\t\t\t// Fallback to js transition\n\t\t\t\t\t$object.stop();\n\t\t\t\t\t$object.animate(endTransition, speed, callback);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Calls all the registered functions of a specific hook\n\t\t *\n\t\t * @param\t{object}\thooks\n\t\t * @return\t{void}\n\t\t */\n\t\t_callHooks: function (hooks) {\n\t\t\tif (typeof(hooks) === 'object') {\n\t\t\t\t$.each(hooks, function(index, hook) {\n\t\t\t\t\tif (typeof(hook) === 'function') {\n\t\t\t\t\t\thook.call(_self.origin);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Caches the object data\n\t\t *\n\t\t * @param\t{object}\t$object\n\t\t * @return\t{void}\n\t\t */\n\t\t_cacheObjectData: function ($object) {\n\t\t\t$.data($object, 'cache', {\n\t\t\t\tid: $object.attr('id'),\n\t\t\t\tcontent: $object.html()\n\t\t\t});\n\n\t\t\t_self.cache.originalObject = $object;\n\t\t},\n\n\t\t/**\n\t\t * Restores the object from cache\n\t\t *\n\t\t * @return\tvoid\n\t\t */\n\t\t_restoreObject: function () {\n\t\t\tvar $object = $('[id^=\"' + _self.settings.idPrefix + 'temp-\"]');\n\n\t\t\t$object.attr('id', $.data(_self.cache.originalObject, 'cache').id);\n\t\t\t$object.html($.data(_self.cache.originalObject, 'cache').content);\n\t\t},\n\n\t\t/**\n\t\t * Executes functions for a window resize.\n\t\t * It stops an eventual timeout and recalculates dimenstions.\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\tresize: function () {\n\t\t\tif (!_self.isOpen) return;\n\n\t\t\tif (_self.isSlideshowEnabled()) {\n\t\t\t\t_self._stopTimeout();\n\t\t\t}\n\n\t\t\t_self.dimensions = _self.getViewportDimensions();\n\t\t\t_self._calculateDimensions(_self.cache.object);\n\n\t\t\t// Call onResize hook functions\n\t\t\t_self._callHooks(_self.settings.onResize);\n\t\t},\n\n\t\t/**\n\t\t * Watches for any resize interaction and caches the new sizes.\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_watchResizeInteraction: function () {\n\t\t\t$(window).resize(_self.resize);\n\t\t},\n\n\t\t/**\n\t\t * Stop watching any resize interaction related to _self.\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_unwatchResizeInteraction: function () {\n\t\t\t$(window).off('resize', _self.resize);\n\t\t},\n\n\t\t/**\n\t\t * Switches to the fullscreen mode\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_switchToFullScreenMode: function () {\n\t\t\t_self.settings.shrinkFactor = 1;\n\t\t\t_self.settings.overlayOpacity = 1;\n\n\t\t\t$('html').addClass(_self.settings.classPrefix + 'fullScreenMode');\n\t\t},\n\n\t\t/**\n\t\t * Enters into the lightcase view\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_open: function () {\n\t\t\t_self.isOpen = true;\n\n\t\t\t_self.support.transitions = _self.settings.cssTransitions ? _self.isTransitionSupported() : false;\n\t\t\t_self.support.mobileDevice = _self.isMobileDevice();\n\n\t\t\tif (_self.support.mobileDevice) {\n\t\t\t\t$('html').addClass(_self.settings.classPrefix + 'isMobileDevice');\n\n\t\t\t\tif (_self.settings.fullScreenModeForMobile) {\n\t\t\t\t\t_self._switchToFullScreenMode();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!_self.settings.transitionIn) {\n\t\t\t\t_self.settings.transitionIn = _self.settings.transition;\n\t\t\t}\n\t\t\tif (!_self.settings.transitionOut) {\n\t\t\t\t_self.settings.transitionOut = _self.settings.transition;\n\t\t\t}\n\n\t\t\tswitch (_self.transition.in()) {\n\t\t\t\tcase 'fade':\n\t\t\t\tcase 'fadeInline':\n\t\t\t\tcase 'elastic':\n\t\t\t\tcase 'scrollTop':\n\t\t\t\tcase 'scrollRight':\n\t\t\t\tcase 'scrollBottom':\n\t\t\t\tcase 'scrollLeft':\n\t\t\t\tcase 'scrollVertical':\n\t\t\t\tcase 'scrollHorizontal':\n\t\t\t\t\tif (_self.objects.case.is(':hidden')) {\n\t\t\t\t\t\t_self.objects.close.css('opacity', 0);\n\t\t\t\t\t\t_self.objects.overlay.css('opacity', 0);\n\t\t\t\t\t\t_self.objects.case.css('opacity', 0);\n\t\t\t\t\t\t_self.objects.contentInner.css('opacity', 0);\n\t\t\t\t\t}\n\t\t\t\t\t_self.transition.fade(_self.objects.overlay, 'in', _self.settings.speedIn, _self.settings.overlayOpacity, function () {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.close, 'in', _self.settings.speedIn);\n\t\t\t\t\t\t_self._handleEvents();\n\t\t\t\t\t\t_self._processContent();\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t_self.transition.fade(_self.objects.overlay, 'in', 0, _self.settings.overlayOpacity, function () {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.close, 'in', 0);\n\t\t\t\t\t\t_self._handleEvents();\n\t\t\t\t\t\t_self._processContent();\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t_self.objects.document.addClass(_self.settings.classPrefix + 'open');\n\t\t\t_self.objects.case.attr('aria-hidden', 'false');\n\t\t},\n\n\t\t/**\n\t\t * Escapes from the lightcase view\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\tclose: function () {\n\t\t\t_self.isOpen = false;\n\n\t\t\tif (_self.isSlideshowEnabled()) {\n\t\t\t\t_self._stopTimeout();\n\t\t\t\t_self.isSlideshowStarted = false;\n\t\t\t\t_self.objects.nav.removeClass(_self.settings.classPrefix + 'paused');\n\t\t\t}\n\n\t\t\t_self.objects.loading.hide();\n\n\t\t\t_self._unbindEvents();\n\n\t\t\t_self._unwatchResizeInteraction();\n\n\t\t\t$('html').removeClass(_self.settings.classPrefix + 'open');\n\t\t\t_self.objects.case.attr('aria-hidden', 'true');\n\n\t\t\t_self.objects.nav.children().hide();\n\t\t\t_self.objects.close.hide();\n\n\t\t\t// Call onClose hook functions\n\t\t\t_self._callHooks(_self.settings.onClose);\n\n\t\t\t// Fade out the info at first\n\t\t\t_self.transition.fade(_self.objects.info, 'out', 0);\n\n\t\t\tswitch (_self.settings.transitionClose || _self.settings.transitionOut) {\n\t\t\t\tcase 'fade':\n\t\t\t\tcase 'fadeInline':\n\t\t\t\tcase 'scrollTop':\n\t\t\t\tcase 'scrollRight':\n\t\t\t\tcase 'scrollBottom':\n\t\t\t\tcase 'scrollLeft':\n\t\t\t\tcase 'scrollHorizontal':\n\t\t\t\tcase 'scrollVertical':\n\t\t\t\t\t_self.transition.fade(_self.objects.case, 'out', _self.settings.speedOut, 0, function () {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.overlay, 'out', _self.settings.speedOut, 0, function () {\n\t\t\t\t\t\t\t_self.cleanup();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'elastic':\n\t\t\t\t\t_self.transition.zoom(_self.objects.case, 'out', _self.settings.speedOut, function () {\n\t\t\t\t\t\t_self.transition.fade(_self.objects.overlay, 'out', _self.settings.speedOut, 0, function () {\n\t\t\t\t\t\t\t_self.cleanup();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t_self.cleanup();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Unbinds all given events\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_unbindEvents: function () {\n\t\t\t// Unbind overlay event\n\t\t\t_self.objects.overlay.unbind('click');\n\n\t\t\t// Unbind key events\n\t\t\t$(document).unbind('keyup.lightcase');\n\n\t\t\t// Unbind swipe events\n\t\t\t_self.objects.case.unbind('swipeleft').unbind('swiperight');\n\n\t\t\t// Unbind navigator events\n\t\t\t_self.objects.prev.unbind('click');\n\t\t\t_self.objects.next.unbind('click');\n\t\t\t_self.objects.play.unbind('click');\n\t\t\t_self.objects.pause.unbind('click');\n\n\t\t\t// Unbind close event\n\t\t\t_self.objects.close.unbind('click');\n\t\t},\n\n\t\t/**\n\t\t * Cleans up the dimensions\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_cleanupDimensions: function () {\n\t\t\tvar opacity = _self.objects.contentInner.css('opacity');\n\n\t\t\t_self.objects.case.css({\n\t\t\t\t'width': '',\n\t\t\t\t'height': '',\n\t\t\t\t'top': '',\n\t\t\t\t'left': '',\n\t\t\t\t'margin-top': '',\n\t\t\t\t'margin-left': ''\n\t\t\t});\n\n\t\t\t_self.objects.contentInner.removeAttr('style').css('opacity', opacity);\n\t\t\t_self.objects.contentInner.children().removeAttr('style');\n\t\t},\n\n\t\t/**\n\t\t * Cleanup after aborting lightcase\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\tcleanup: function () {\n\t\t\t_self._cleanupDimensions();\n\n\t\t\t_self.objects.loading.hide();\n\t\t\t_self.objects.overlay.hide();\n\t\t\t_self.objects.case.hide();\n\t\t\t_self.objects.prev.hide();\n\t\t\t_self.objects.next.hide();\n\t\t\t_self.objects.play.hide();\n\t\t\t_self.objects.pause.hide();\n\n\t\t\t_self.objects.document.removeAttr(_self._prefixAttributeName('type'));\n\t\t\t_self.objects.nav.removeAttr(_self._prefixAttributeName('ispartofsequence'));\n\n\t\t\t_self.objects.contentInner.empty().hide();\n\t\t\t_self.objects.info.children().empty();\n\n\t\t\tif (_self.cache.originalObject) {\n\t\t\t\t_self._restoreObject();\n\t\t\t}\n\n\t\t\t// Call onCleanup hook functions\n\t\t\t_self._callHooks(_self.settings.onCleanup);\n\n\t\t\t// Restore cache\n\t\t\t_self.cache = {};\n\t\t},\n\n\t\t/**\n\t\t * Returns the supported match media or undefined if the browser\n\t\t * doesn't support match media.\n\t\t *\n\t\t * @return\t{mixed}\n\t\t */\n\t\t_matchMedia: function () {\n\t\t\treturn window.matchMedia || window.msMatchMedia;\n\t\t},\n\n\t\t/**\n\t\t * Returns the devicePixelRatio if supported. Else, it simply returns\n\t\t * 1 as the default.\n\t\t *\n\t\t * @return\t{number}\n\t\t */\n\t\t_devicePixelRatio: function () {\n\t\t\treturn window.devicePixelRatio || 1;\n\t\t},\n\n\t\t/**\n\t\t * Checks if method is public\n\t\t *\n\t\t * @return\t{boolean}\n\t\t */\n\t\t_isPublicMethod: function (method) {\n\t\t\treturn (typeof _self[method] === 'function' && method.charAt(0) !== '_');\n\t\t},\n\n\t\t/**\n\t\t * Exports all public methods to be accessible, callable\n\t\t * from global scope.\n\t\t *\n\t\t * @return\t{void}\n\t\t */\n\t\t_export: function () {\n\t\t\twindow.lightcase = {};\n\n\t\t\t$.each(_self, function (property) {\n\t\t\t\tif (_self._isPublicMethod(property)) {\n\t\t\t\t\tlightcase[property] = _self[property];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t_self._export();\n\n\t$.fn.lightcase = function (method) {\n\t\t// Method calling logic (only public methods are applied)\n\t\tif (_self._isPublicMethod(method)) {\n\t\t\treturn _self[method].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t} else if (typeof method === 'object' || !method) {\n\t\t\treturn _self.init.apply(this, arguments);\n\t\t} else {\n\t\t\t$.error('Method ' + method + ' does not exist on jQuery.lightcase');\n\t\t}\n\t};\n})(jQuery);\n"],"names":["$","_self","cache","support","objects","init","options","this","each","unbind","bind","event","preventDefault","lightcase","start","origin","settings","extend","idPrefix","classPrefix","attrPrefix","transition","transitionOpen","transitionClose","transitionIn","transitionOut","cssTransitions","speedIn","speedOut","width","height","maxWidth","maxHeight","forceWidth","forceHeight","liveResize","fullScreenModeForMobile","mobileMatchExpression","disableShrink","fixedRatio","shrinkFactor","overlayOpacity","slideshow","slideshowAutoStart","timeout","swipe","useKeys","useCategories","useAsCollection","navigateEndless","closeOnOverlayClick","title","caption","showTitle","showCaption","showSequenceInfo","inline","ajax","type","dataType","data","iframe","frameborder","flash","wmode","video","poster","preload","controls","autobuffer","autoplay","loop","attr","href","typeMapping","image","errorMessage","labels","close","markup","body","append","overlay","loading","case","after","nav","prev","hide","next","play","pause","content","info","contentInner","sequenceInfo","onInit","onStart","onFinish","onResize","onClose","onCleanup","document","_callHooks","objectData","_setObjectData","_addElements","_open","dimensions","getViewportDimensions","get","name","getObjectData","object","$object","_prefixAttributeName","children","url","_determineUrl","requestType","requestData","requestDataType","rel","_determineAttributeSelector","_verifyDataType","isPartOfSequence","_isPartOfSequence","isPartOfSequenceWithSlideshow","currentIndex","index","sequenceLength","length","prevIndex","nextIndex","_determineLinkTarget","$origin","selector","categories","split","category","dataUrl","_verifyDataUrl","density","supportLevel","src","createElement","videoType","_getFileUrlSuffix","canPlayType","_devicePixelRatio","_matchMedia","matches","_normalizeUrl","url1","srcExp","map","str","trim","forEach","i","value","substring","lastChar","intVal","parseInt","floatVal","parseFloat","test","isNaN","expression","getSimilarLinks","RegExp","isSlideshowEnabled","_loadContent","originalObject","_restoreObject","_createObject","Image","alt","html","_cloneObject","_addObject","_loadObject","_loading","show","empty","undefined","_showContent","error","success","textStatus","jqXHR","errorThrown","find","on","_calculateDimensions","_cleanupDimensions","ratio","objectWidth","objectHeight","windowWidth","windowHeight","differenceWidthAsPercent","differenceHeightAsPercent","e","_adjustDimensions","css","outerWidth","outerHeight","process","addClass","removeClass","window","innerWidth","innerHeight","indexOf","toString","toLowerCase","key","hasOwnProperty","suffixArr","suffix","regexp","substr","in","scroll","fade","zoom","isBusy","firstOpened","setTimeout","_processContent","is","_handleEvents","_unbindEvents","not","isSlideshowStarted","hasClass","_stopTimeout","_startTimeout","_watchResizeInteraction","click","_addKeyEvents","_setNavigation","item","isFirst","action","isLast","isPlainObject","special","swipeleft","swiperight","keyCode","clearTimeout","$links","items","eq","prevItem","isFirstOpened","$clone","clone","objectId","_cacheObjectData","removeAttr","isMobileDevice","navigator","userAgent","match","isTransitionSupported","isTransitionSupported1","transitionMapping","WebkitTransition","MozTransition","OTransition","MsTransition","style","speed","opacity","callback","isInTransition","startTransition","startOpacity","endTransition","endOpacity","isOpen","transitions","stop","animate","direction","startOffset","endOffset","startScale","endScale","hooks","hook","call","id","resize","_unwatchResizeInteraction","off","_switchToFullScreenMode","mobileDevice","cleanup","top","left","matchMedia","msMatchMedia","devicePixelRatio","_isPublicMethod","method","charAt","_export","property","fn","apply","Array","prototype","slice","arguments","jQuery"],"version":3,"file":"index.1ef2ea59.js.map"}